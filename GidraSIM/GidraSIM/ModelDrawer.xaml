<UserControl x:Class="GidraSIM.ModelDrawer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:GidraSIM"
             mc:Ignorable="d" 
             >
    <Canvas  x:Name="field" Background="Transparent" Height="800" Width="600">

        <!--Процесс 2-->
        <Canvas Canvas.Left="350" Canvas.Top="100" Panel.ZIndex="1">
            <Path Fill="White" Stroke="Black" >
                <Path.Data>
                    <GeometryGroup FillRule="Nonzero">
                        <RectangleGeometry Rect="0,0,100,60" RadiusX="10" RadiusY="10"></RectangleGeometry>
                        <RectangleGeometry Rect="3,3,94,54" RadiusX="7" RadiusY="7"></RectangleGeometry>
                    </GeometryGroup>
                </Path.Data>
            </Path>
            <Path Fill="Black" Canvas.Left="0" Canvas.Top="30" Panel.ZIndex="1">
                <Path.Data>
                    <EllipseGeometry RadiusX="4" RadiusY="4"></EllipseGeometry>
                </Path.Data>
            </Path>
            <Path Fill="Green" Canvas.Left="100" Canvas.Top="30" Panel.ZIndex="1">
                <Path.Data>
                    <EllipseGeometry RadiusX="4" RadiusY="4"></EllipseGeometry>
                </Path.Data>
            </Path>
            <Label Canvas.Left="5" Canvas.Top="16" Panel.ZIndex="1">Процесс 2</Label>
        </Canvas>

        <!--Процесс 1-->
        <Path Fill="White" Stroke="Black" Canvas.Left="80" Canvas.Top="50" Panel.ZIndex="1">
            <Path.Data>
                <RectangleGeometry Rect="0,0,100,60" RadiusX="10" RadiusY="10"></RectangleGeometry>
            </Path.Data>
        </Path>
        <Path Fill="Black" Canvas.Left="80" Canvas.Top="80" Panel.ZIndex="1">
            <Path.Data>
                <EllipseGeometry RadiusX="4" RadiusY="4"></EllipseGeometry>
            </Path.Data>
        </Path>
        <Path Fill="Green" Canvas.Left="180" Canvas.Top="80" Panel.ZIndex="1">
            <Path.Data>
                <EllipseGeometry RadiusX="4" RadiusY="4"></EllipseGeometry>
            </Path.Data>
        </Path>
        <Label Canvas.Left="82" Canvas.Top="66" Panel.ZIndex="1">Процесс 1</Label>

        <!--Ресурс-->
        <Path Fill="White" Stroke="Black" Canvas.Left="200" Canvas.Top="220" Panel.ZIndex="1">
            <Path.Data>
                <RectangleGeometry Rect="0,0,100,60" RadiusX="10" RadiusY="10"></RectangleGeometry>
            </Path.Data>
        </Path>
        <Image Source="Image/Resourse.png" Height="30" Canvas.Left="203" Canvas.Top="247" Width="30" Panel.ZIndex="1"></Image>
        <Label Canvas.Left="200" Canvas.Top="221" Panel.ZIndex="1">Ресурс</Label>

        <!--Процесс-Процесс-->
        <Path Stroke="Black" StrokeThickness="2" Canvas.Left="180" Canvas.Top="80">
            <Path.Data>
                <PathGeometry>
                    <PathFigure StartPoint="0, 0">
                        <BezierSegment Point1="170,0" Point2="0 50" Point3="170,50" />
                    </PathFigure>

                    <PathFigure StartPoint="160, 45">
                        <LineSegment Point="170, 50"></LineSegment>
                        <LineSegment Point="160, 55"></LineSegment>
                    </PathFigure>

                </PathGeometry>
            </Path.Data>
        </Path>

        <Canvas Canvas.Left="306" Canvas.Top="130.5">
            <Path Stroke="Red" StrokeThickness="2" >
                <Path.Data>
                    <PathGeometry>
                        <PathGeometry.Figures>
                            <PathFigure StartPoint="100,100" IsClosed="False">
                                <ArcSegment Point="110,90"
                                        Size="10,10" IsLargeArc="False"
                                        SweepDirection="Counterclockwise"/>
                            </PathFigure>
                        </PathGeometry.Figures>
                    </PathGeometry>
                </Path.Data>
            </Path>
        </Canvas>

        <!--Процесс-Процесс-->
        <Path Stroke="Black" StrokeThickness="2" Canvas.Left="0" Canvas.Top="0">
            <Path.Data>
                <PathGeometry >
                    <PathFigure StartPoint="450, 130">
                        <BezierSegment Point1="470,130" Point2="470,110" Point3="470,110" />
                        <LineSegment Point="470,50"/>
                        <BezierSegment Point1="470,50" Point2="470,30" Point3="450,30" />
                        <LineSegment Point="80, 30"/>
                        <BezierSegment Point1="60,30" Point2="60,50" Point3="60,50" />
                        <LineSegment Point="60,60"/>
                        <BezierSegment Point1="60,80" Point2="60,80" Point3="80,80" />
                    </PathFigure>
                    
                    <PathFigure StartPoint="70,75">
                        <LineSegment Point="80, 80"></LineSegment>
                        <LineSegment Point="70,85"></LineSegment>
                    </PathFigure>

                </PathGeometry>
            </Path.Data>
        </Path>
        
        <!--Ресурс-Процесс1-->
        <Canvas Canvas.Left="0" Canvas.Top="0">
            <Path Stroke="Gray" StrokeThickness="2">
                <Path.Data>
                    <PathGeometry>
                        <PathFigure StartPoint="250, 250" IsClosed="False">
                            <LineSegment Point="130,80"></LineSegment>
                        </PathFigure>
                    </PathGeometry>
                </Path.Data>
            </Path>
        </Canvas>

        <!--Ресурс-Процесс2-->
        <Path Stroke="Gray" StrokeThickness="2" Canvas.Left="400" Canvas.Top="160">
            <Path.Data>
                <PathGeometry>
                    <PathFigure StartPoint="0, 0" IsClosed="False">
                        <LineSegment Point="-150,60"></LineSegment>
                    </PathFigure>
                </PathGeometry>
            </Path.Data>
        </Path>
    </Canvas>
</UserControl>
